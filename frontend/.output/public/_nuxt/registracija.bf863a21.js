import{A as N,aW as U,aX as F,ae as O,a7 as E,E as q,a4 as A,F as D,G as M,aY as G,aZ as H,a8 as J,aj as W,al as X,r as P,P as z,j as x,aO as Y,b0 as Z,O as K,b as t,ap as Q,b1 as $,ar as ee,S as T,L as ae,a3 as te,_ as se,c as oe,w as l,V as re,o as ne,x as le,s as ie,d as b,y as ue,z as j,t as ce,p as me,f as de,a as fe}from"./entry.5d2ac74f.js";import{V as ve,b as be,a as ke}from"./VCard.e5b34edc.js";import{V as pe}from"./VForm.c48a33f6.js";import{f as Ve,V as c}from"./VTextField.f43ddc1b.js";import{m as he,u as we,a as C}from"./VOverlay.09b93e8d.js";function ye(e){const a=z(e);let r=-1;function n(){clearInterval(r)}function s(){n(),te(()=>a.value=e)}function i(o){const k=o?getComputedStyle(o):{transitionDuration:.2},m=parseFloat(k.transitionDuration)*1e3||200;if(n(),a.value<=0)return;const p=performance.now();r=window.setInterval(()=>{const V=performance.now()-p+m;a.value=Math.max(e-V,0),a.value<=0&&n()},m)}return ae(n),{clear:n,time:a,start:i,reset:s}}const _e=N({multiLine:Boolean,text:String,timer:[Boolean,String],timeout:{type:[Number,String],default:5e3},vertical:Boolean,...U({location:"bottom"}),...F(),...O(),...E(),...q(),...A(he({transition:"v-snackbar-transition"}),["persistent","noClickAnimation","scrim","scrollStrategy"])},"VSnackbar"),ge=D()({name:"VSnackbar",props:_e(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:r}=a;const n=M(e,"modelValue"),{locationStyles:s}=G(e),{positionClasses:i}=H(e),{scopeId:o}=we(),{themeClasses:k}=J(e),{colorClasses:m,colorStyles:p,variantClasses:V}=W(e),{roundedClasses:R}=X(e),d=ye(Number(e.timeout)),_=P(),g=P(),h=z(!1);x(n,f),x(()=>e.timeout,f),Y(()=>{n.value&&f()});let w=-1;function f(){d.reset(),window.clearTimeout(w);const u=Number(e.timeout);if(!n.value||u===-1)return;const y=Z(g.value);d.start(y),w=window.setTimeout(()=>{n.value=!1},u)}function B(){d.reset(),window.clearTimeout(w)}function I(){h.value=!0,B()}function L(){h.value=!1,f()}return K(()=>{const u=C.filterProps(e),y=!!(r.default||r.text||e.text);return t(C,T({ref:_,class:["v-snackbar",{"v-snackbar--active":n.value,"v-snackbar--multi-line":e.multiLine&&!e.vertical,"v-snackbar--timer":!!e.timer,"v-snackbar--vertical":e.vertical},i.value,e.class],style:e.style},u,{modelValue:n.value,"onUpdate:modelValue":v=>n.value=v,contentProps:T({class:["v-snackbar__wrapper",k.value,m.value,R.value,V.value],style:[s.value,p.value],onPointerenter:I,onPointerleave:L},u.contentProps),persistent:!0,noClickAnimation:!0,scrim:!1,scrollStrategy:"none",_disableGlobalStack:!0},o),{default:()=>{var v,S;return[Q(!1,"v-snackbar"),e.timer&&t("div",{key:"timer",class:"v-snackbar__timer"},[t($,{ref:g,active:!h.value,color:typeof e.timer=="string"?e.timer:"info",max:e.timeout,"model-value":d.time.value},null)]),y&&t("div",{key:"content",class:"v-snackbar__content",role:"status","aria-live":"polite"},[((v=r.text)==null?void 0:v.call(r))??e.text,(S=r.default)==null?void 0:S.call(r)]),r.actions&&t(ee,{defaults:{VBtn:{variant:"text",ripple:!1,slim:!0}}},{default:()=>[t("div",{class:"v-snackbar__actions"},[r.actions()])]})]},activator:r.activator})}),Ve({},_)}}),Se={data(){return{ime:"",prezime:"",brojTelefona:"",email:"",lozinka:"",snackbar:{show:!1,message:"",color:""}}},methods:{async submitForm(){try{const e=await fetch(`${this.$config.public.BASE_URL}/users`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:this.ime,last_name:this.prezime,email:this.email,phone:this.brojTelefona,password:this.lozinka,role:"Normal"})});if(e.ok)this.snackbar.message="Registracija uspješna!",this.snackbar.color="green",this.snackbar.show=!0,this.ime="",this.prezime="",this.brojTelefona="",this.email="",this.lozinka="";else{const a=await e.json();this.snackbar.message=`Registracija neuspješna: ${a.message}`,this.snackbar.color="red",this.snackbar.show=!0}}catch(e){console.error("Error:",e),this.snackbar.message="Greška pri registraciji. Pokušajte ponovo.",this.snackbar.color="red",this.snackbar.show=!0}}}},Pe=e=>(me("data-v-e213c7bb"),e=e(),de(),e),xe=Pe(()=>fe("br",null,null,-1));function Te(e,a,r,n,s,i){return ne(),oe("div",null,[t(re,null,{default:l(()=>[t(le,{justify:"center"},{default:l(()=>[t(ie,{cols:"12",sm:"8",md:"6"},{default:l(()=>[t(ve,{class:"small-card"},{default:l(()=>[t(be,{class:"text-h6 text-center",style:{"font-family":"",color:"#2b9300"}},{default:l(()=>[b("Registracija")]),_:1}),t(ke,null,{default:l(()=>[t(pe,{onSubmit:ue(i.submitForm,["prevent"])},{default:l(()=>[t(c,{modelValue:s.ime,"onUpdate:modelValue":a[0]||(a[0]=o=>s.ime=o),label:"Ime",required:"",persistent:""},null,8,["modelValue"]),t(c,{modelValue:s.prezime,"onUpdate:modelValue":a[1]||(a[1]=o=>s.prezime=o),label:"Prezime",required:"",persistent:""},null,8,["modelValue"]),t(c,{modelValue:s.brojTelefona,"onUpdate:modelValue":a[2]||(a[2]=o=>s.brojTelefona=o),label:"Broj telefona",required:"",persistent:""},null,8,["modelValue"]),t(c,{modelValue:s.email,"onUpdate:modelValue":a[3]||(a[3]=o=>s.email=o),label:"Email",required:"",persistent:""},null,8,["modelValue"]),t(c,{modelValue:s.lozinka,"onUpdate:modelValue":a[4]||(a[4]=o=>s.lozinka=o),label:"Lozinka",type:"password",required:"",persistent:"",autocomplete:"current-password"},null,8,["modelValue"]),t(j,{type:"submit",color:"green"},{default:l(()=>[b("Potvrdi")]),_:1})]),_:1},8,["onSubmit"]),xe,t(ge,{modelValue:s.snackbar.show,"onUpdate:modelValue":a[6]||(a[6]=o=>s.snackbar.show=o),color:s.snackbar.color,top:""},{default:l(()=>[b(ce(s.snackbar.message)+" ",1),t(j,{color:"white",text:"",onClick:a[5]||(a[5]=o=>s.snackbar.show=!1)},{default:l(()=>[b("Close")]),_:1})]),_:1},8,["modelValue","color"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const Ie=se(Se,[["render",Te],["__scopeId","data-v-e213c7bb"]]);export{Ie as default};
