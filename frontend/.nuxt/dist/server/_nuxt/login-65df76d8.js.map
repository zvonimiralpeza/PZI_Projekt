{"version":3,"file":"login-65df76d8.js","sources":["../../../../pages/login.vue"],"sourcesContent":["<template>\r\n    <div>\r\n    <v-container>\r\n      <v-row justify=\"center\">\r\n        <v-col cols=\"12\" sm=\"8\" md=\"6\">\r\n          <v-card>\r\n            <v-card-title class=\"text-h5 text-center\" style=\"color: #2b9300;\">Prijava</v-card-title>\r\n            <v-card-text>\r\n              <v-form @submit.prevent=\"submitForm\">\r\n                <v-text-field v-model=\"email\" label=\"Email\" required persistent></v-text-field>\r\n                <v-text-field v-model=\"lozinka\" label=\"Lozinka\" type=\"password\" required persistent autocomplete=\"off\"></v-text-field>\r\n\r\n                <v-btn type=\"submit\" color=\"green\">Prijavi se</v-btn>\r\n              </v-form>\r\n            </v-card-text>\r\n          </v-card>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n    </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\nimport { mapWritableState  } from 'pinia';\r\nimport { useUsersStore } from '../stores/users.js'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      email: '',\r\n      lozinka: '',\r\n    };\r\n  },\r\n  methods: {\r\n    async submitForm() {\r\n      try {\r\n        // Provjeri postoji li korisnik u lokalnom spremniku\r\n        if (!this.email || !this.lozinka) {\r\n          alert('Korisnik ne postoji. Molimo provjerite vaše podatke ili se registrirajte.');\r\n          return; // Prekini izvršavanje funkcije\r\n        }\r\n        \r\n        const response = await $fetch(`${this.$config.public.BASE_URL}/login`, {\r\n          method: 'POST',\r\n          body: {\r\n            email: this.email,\r\n            password: this.lozinka\r\n          }\r\n        });\r\n        this.user = response.user\r\n        // Spremanje odgovora u localStorage\r\n        localStorage.setItem('user', JSON.stringify(response));\r\n        \r\n        // Otići na naslovnu stranicu\r\n        navigateTo('/')\r\n      } catch (error) {\r\n        console.log(error);\r\n        // Obavijstiti korisnika da su unešeni podaci pogrešni\r\n      }\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapWritableState(useUsersStore, ['user'])\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n\r\n<style>\r\n/* Vaši stilovi */\r\n</style>"],"names":["_push","_parent","_ssrRenderComponent","_component_v_row","_","_scopeId","_component_v_form","_createVNode","_component_v_text_field","_component_v_btn","_component_v_card_title","_component_v_card_text","_component_v_card","_component_v_col"],"mappings":";;;;;;;;;;;;;;;;;;;;;AA6BA,MAAK,YAAU;AAAA,EACb,OAAO;AACL,WAAO;AAAA,MACL,OAAO;AAAA,MACP,SAAS;AAAA;EAEZ;AAAA,EACD,SAAS;AAAA,IACP,MAAM,aAAa;AACjB,UAAI;AAEF,YAAI,CAAC,KAAK,SAAS,CAAC,KAAK,SAAS;AAChC,gBAAM,2EAA2E;AACjF;AAAA,QACF;AAEA,cAAM,WAAW,MAAM,OAAO,GAAG,KAAK,QAAQ,OAAO,QAAQ,UAAU;AAAA,UACrE,QAAQ;AAAA,UACR,MAAM;AAAA,YACJ,OAAO,KAAK;AAAA,YACZ,UAAU,KAAK;AAAA,UACjB;AAAA,QACF,CAAC;AACD,aAAK,OAAO,SAAS;AAErB,qBAAa,QAAQ,QAAQ,KAAK,UAAU,QAAQ,CAAC;AAGrD,mBAAW,GAAG;AAAA,MACd,SAAO,OAAO;AACd,gBAAQ,IAAI,KAAK;AAAA,MAEnB;AAAA,IACD;AAAA,EACF;AAAA,EACD,UAAU;AAAA,IACR,GAAG,iBAAiB,eAAe,CAAC,MAAM,CAAC;AAAA,EAC7C;AACF;;;;qBAjEI,CAgBc,GAAAA,QAAAC,UAAA,aAAA;;AAfL,QAAAD,OAAAE,mBAAAC,MAAA,EAAA,SAAQ,SAAQ,GAAA;AAAA,2BAAvB,CAcQC,IAAAJ,QAAAC,UAAAI,cAAA;;;gBAbC,MAAK;AAAA,gBAAK,IAAG;AAAA,gBAAI,IAAG;AAAA;iCAA3B,CAYQD,IAAAJ,QAAAC,UAAAI,cAAA;;;uCAXN,CAUSD,IAAAJ,QAAAC,UAAAI,cAAA;;;4BATO,OAAM;AAAA,4BAAsB,OAAA,EAAuB,SAAA,UAAA;AAAA;6CAAjE,CAAwFD,IAAAJ,QAAAC,UAAAI,cAAA;;;;;kDAAtB,SAAO;AAAA;;;;;;6CACzE,CAOcD,IAAAJ,QAAAC,UAAAI,cAAA;;AANH,gCAAAL,OAAAE,mBAAAI,OAAA,EAAA,UAAgB,SAAU,cAAA;AAAA,mDAAnC,CAKSF,IAAAJ,QAAAC,UAAAI,cAAA;;;oDAJgB,MAAK;AAAA,2EAAL,MAAK,QAAA;AAAA,wCAAE,OAAM;AAAA,wCAAQ,UAAA;AAAA,wCAAS,YAAA;AAAA;;oDAC9B,MAAO;AAAA,2EAAP,MAAO,UAAA;AAAA,wCAAE,OAAM;AAAA,wCAAU,MAAK;AAAA,wCAAW,UAAA;AAAA,wCAAS,YAAA;AAAA,wCAAW,cAAa;AAAA;;wCAE1F,MAAK;AAAA,wCAAS,OAAM;AAAA;yDAA3B,CAAqDD,IAAAJ,QAAAC,UAAAI,cAAA;;;;;8DAAlB,YAAU;AAAA;;;;;;;wCAH7CE,YAA+EC,YAAA;AAAA,sDAAxD,MAAK;AAAA,6EAAL,MAAK,QAAA;AAAA,0CAAE,OAAM;AAAA,0CAAQ,UAAA;AAAA,0CAAS,YAAA;AAAA;wCACrDD,YAAsHC,YAAA;AAAA,sDAA/F,MAAO;AAAA,6EAAP,MAAO,UAAA;AAAA,0CAAE,OAAM;AAAA,0CAAU,MAAK;AAAA,0CAAW,UAAA;AAAA,0CAAS,YAAA;AAAA,0CAAW,cAAa;AAAA;wCAEjGD,YAAqDE,MAAA;AAAA,0CAA9C,MAAK;AAAA,0CAAS,OAAM;AAAA;2DAAQ,MAAU;AAAA,4DAAV,YAAU;AAAA;;;;;;;;;;kCAJ/CF,YAKSD,OAAA;AAAA,oCALA,wBAAgB,SAAU,YAAA,CAAA,SAAA,CAAA;AAAA;qDACjC,MAA+E;AAAA,sCAA/EC,YAA+EC,YAAA;AAAA,oDAAxD,MAAK;AAAA,2EAAL,MAAK,QAAA;AAAA,wCAAE,OAAM;AAAA,wCAAQ,UAAA;AAAA,wCAAS,YAAA;AAAA;sCACrDD,YAAsHC,YAAA;AAAA,oDAA/F,MAAO;AAAA,2EAAP,MAAO,UAAA;AAAA,wCAAE,OAAM;AAAA,wCAAU,MAAK;AAAA,wCAAW,UAAA;AAAA,wCAAS,YAAA;AAAA,wCAAW,cAAa;AAAA;sCAEjGD,YAAqDE,MAAA;AAAA,wCAA9C,MAAK;AAAA,wCAAS,OAAM;AAAA;yDAAQ,MAAU;AAAA,0DAAV,YAAU;AAAA;;;;;;;;;;;;;4BANjDF,YAAwFG,YAAA;AAAA,8BAA1E,OAAM;AAAA,8BAAsB,OAAA,EAAuB,SAAA,UAAA;AAAA;+CAAC,MAAO;AAAA,gDAAP,SAAO;AAAA;;;4BACzEH,YAOcI,WAAA,MAAA;AAAA,+CANZ,MAKS;AAAA,gCALTJ,YAKSD,OAAA;AAAA,kCALA,wBAAgB,SAAU,YAAA,CAAA,SAAA,CAAA;AAAA;mDACjC,MAA+E;AAAA,oCAA/EC,YAA+EC,YAAA;AAAA,kDAAxD,MAAK;AAAA,yEAAL,MAAK,QAAA;AAAA,sCAAE,OAAM;AAAA,sCAAQ,UAAA;AAAA,sCAAS,YAAA;AAAA;oCACrDD,YAAsHC,YAAA;AAAA,kDAA/F,MAAO;AAAA,yEAAP,MAAO,UAAA;AAAA,sCAAE,OAAM;AAAA,sCAAU,MAAK;AAAA,sCAAW,UAAA;AAAA,sCAAS,YAAA;AAAA,sCAAW,cAAa;AAAA;oCAEjGD,YAAqDE,MAAA;AAAA,sCAA9C,MAAK;AAAA,sCAAS,OAAM;AAAA;uDAAQ,MAAU;AAAA,wDAAV,YAAU;AAAA;;;;;;;;;;;;;;;;sBAPnDF,YAUSK,OAAA,MAAA;AAAA,yCATP,MAAwF;AAAA,0BAAxFL,YAAwFG,YAAA;AAAA,4BAA1E,OAAM;AAAA,4BAAsB,OAAA,EAAuB,SAAA,UAAA;AAAA;6CAAC,MAAO;AAAA,8CAAP,SAAO;AAAA;;;0BACzEH,YAOcI,WAAA,MAAA;AAAA,6CANZ,MAKS;AAAA,8BALTJ,YAKSD,OAAA;AAAA,gCALA,wBAAgB,SAAU,YAAA,CAAA,SAAA,CAAA;AAAA;iDACjC,MAA+E;AAAA,kCAA/EC,YAA+EC,YAAA;AAAA,gDAAxD,MAAK;AAAA,uEAAL,MAAK,QAAA;AAAA,oCAAE,OAAM;AAAA,oCAAQ,UAAA;AAAA,oCAAS,YAAA;AAAA;kCACrDD,YAAsHC,YAAA;AAAA,gDAA/F,MAAO;AAAA,uEAAP,MAAO,UAAA;AAAA,oCAAE,OAAM;AAAA,oCAAU,MAAK;AAAA,oCAAW,UAAA;AAAA,oCAAS,YAAA;AAAA,oCAAW,cAAa;AAAA;kCAEjGD,YAAqDE,MAAA;AAAA,oCAA9C,MAAK;AAAA,oCAAS,OAAM;AAAA;qDAAQ,MAAU;AAAA,sDAAV,YAAU;AAAA;;;;;;;;;;;;;;;;;;;gBARrDF,YAYQM,MAAA;AAAA,kBAZD,MAAK;AAAA,kBAAK,IAAG;AAAA,kBAAI,IAAG;AAAA;mCACzB,MAUS;AAAA,oBAVTN,YAUSK,OAAA,MAAA;AAAA,uCATP,MAAwF;AAAA,wBAAxFL,YAAwFG,YAAA;AAAA,0BAA1E,OAAM;AAAA,0BAAsB,OAAA,EAAuB,SAAA,UAAA;AAAA;2CAAC,MAAO;AAAA,4CAAP,SAAO;AAAA;;;wBACzEH,YAOcI,WAAA,MAAA;AAAA,2CANZ,MAKS;AAAA,4BALTJ,YAKSD,OAAA;AAAA,8BALA,wBAAgB,SAAU,YAAA,CAAA,SAAA,CAAA;AAAA;+CACjC,MAA+E;AAAA,gCAA/EC,YAA+EC,YAAA;AAAA,8CAAxD,MAAK;AAAA,qEAAL,MAAK,QAAA;AAAA,kCAAE,OAAM;AAAA,kCAAQ,UAAA;AAAA,kCAAS,YAAA;AAAA;gCACrDD,YAAsHC,YAAA;AAAA,8CAA/F,MAAO;AAAA,qEAAP,MAAO,UAAA;AAAA,kCAAE,OAAM;AAAA,kCAAU,MAAK;AAAA,kCAAW,UAAA;AAAA,kCAAS,YAAA;AAAA,kCAAW,cAAa;AAAA;gCAEjGD,YAAqDE,MAAA;AAAA,kCAA9C,MAAK;AAAA,kCAAS,OAAM;AAAA;mDAAQ,MAAU;AAAA,oDAAV,YAAU;AAAA;;;;;;;;;;;;;;;;;;;;;;UATvDF,YAcQJ,MAAA,EAdD,SAAQ,SAAQ,GAAA;AAAA,6BACrB,MAYQ;AAAA,cAZRI,YAYQM,MAAA;AAAA,gBAZD,MAAK;AAAA,gBAAK,IAAG;AAAA,gBAAI,IAAG;AAAA;iCACzB,MAUS;AAAA,kBAVTN,YAUSK,OAAA,MAAA;AAAA,qCATP,MAAwF;AAAA,sBAAxFL,YAAwFG,YAAA;AAAA,wBAA1E,OAAM;AAAA,wBAAsB,OAAA,EAAuB,SAAA,UAAA;AAAA;yCAAC,MAAO;AAAA,0CAAP,SAAO;AAAA;;;sBACzEH,YAOcI,WAAA,MAAA;AAAA,yCANZ,MAKS;AAAA,0BALTJ,YAKSD,OAAA;AAAA,4BALA,wBAAgB,SAAU,YAAA,CAAA,SAAA,CAAA;AAAA;6CACjC,MAA+E;AAAA,8BAA/EC,YAA+EC,YAAA;AAAA,4CAAxD,MAAK;AAAA,mEAAL,MAAK,QAAA;AAAA,gCAAE,OAAM;AAAA,gCAAQ,UAAA;AAAA,gCAAS,YAAA;AAAA;8BACrDD,YAAsHC,YAAA;AAAA,4CAA/F,MAAO;AAAA,mEAAP,MAAO,UAAA;AAAA,gCAAE,OAAM;AAAA,gCAAU,MAAK;AAAA,gCAAW,UAAA;AAAA,gCAAS,YAAA;AAAA,gCAAW,cAAa;AAAA;8BAEjGD,YAAqDE,MAAA;AAAA,gCAA9C,MAAK;AAAA,gCAAS,OAAM;AAAA;iDAAQ,MAAU;AAAA,kDAAV,YAAU;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}