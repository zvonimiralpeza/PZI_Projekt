import{_ as d,c as m,b as t,w as i,V as p,o as h,x as V,s as c,d as a,y as f,a as s,z as b}from"./entry.5d2ac74f.js";import{V as g,b as k,a as j}from"./VCard.e5b34edc.js";import{V as y}from"./VForm.c48a33f6.js";import{V as r}from"./VTextField.f43ddc1b.js";const v={created(){this.dohvatiSlike().then(()=>{let e=this.slike.find(l=>l.id===parseInt(this.$route.query.id));e=JSON.parse(JSON.stringify(e)),e&&(this.naslov=e.name,this.cijena=e.price,this.autor=e.author,this.godina=e.year,this.tehnika=e.technique,this.url=e.url)})},data(){return{naslov:"",cijena:"",autor:"",godina:"",tehnika:"",url:"",slike:[]}},methods:{async dohvatiSlike(){try{const e=await $fetch(`${this.$config.public.BASE_URL}/products`,{method:"GET"});console.log(e),this.slike=e.products}catch(e){console.error("Error making POST request:",e)}},async submitForm(){try{const e=await $fetch(`${this.$config.public.BASE_URL}/products/${this.$route.query.id}`,{method:"PUT",body:{name:this.naslov,price:this.cijena,author:this.autor,year:this.godina,technique:this.tehnika,url:this.url,seller_id:1}});this.$router.push("/kupovina")}catch(e){console.log(e)}}}},q=s("br",null,null,-1),U=s("br",null,null,-1),C=s("br",null,null,-1);function S(e,l,_,x,n,u){return h(),m("div",null,[t(p,null,{default:i(()=>[t(V,{justify:"center"},{default:i(()=>[t(c,{cols:"12",sm:"8",md:"6"},{default:i(()=>[t(g,{class:"small-card"},{default:i(()=>[t(k,{class:"text-h6 text-center",style:{color:"#2b9300"}},{default:i(()=>[a("UreÄ‘ivanje umjetnine")]),_:1}),t(j,null,{default:i(()=>[t(y,{onSubmit:f(u.submitForm,["prevent"])},{default:i(()=>[t(r,{modelValue:n.naslov,"onUpdate:modelValue":l[0]||(l[0]=o=>n.naslov=o),label:"Naslov umjetnine",required:"",persistent:""},null,8,["modelValue"]),t(r,{modelValue:n.cijena,"onUpdate:modelValue":l[1]||(l[1]=o=>n.cijena=o),label:"Cijena umjetnine",required:"",persistent:""},null,8,["modelValue"]),t(r,{modelValue:n.autor,"onUpdate:modelValue":l[2]||(l[2]=o=>n.autor=o),label:"Autor umjetnine",required:"",persistent:""},null,8,["modelValue"]),t(r,{modelValue:n.godina,"onUpdate:modelValue":l[3]||(l[3]=o=>n.godina=o),label:"Godina stvaranja",required:"",persistent:""},null,8,["modelValue"]),t(r,{modelValue:n.tehnika,"onUpdate:modelValue":l[4]||(l[4]=o=>n.tehnika=o),label:"Tehnika",required:"",persistent:""},null,8,["modelValue"]),t(r,{modelValue:n.url,"onUpdate:modelValue":l[5]||(l[5]=o=>n.url=o),label:"URL",required:"",persistent:""},null,8,["modelValue"]),s("input",{type:"file",ref:"fileInput",onChange:l[6]||(l[6]=(...o)=>e.handleFileChange&&e.handleFileChange(...o)),accept:".jpg, .jpeg, .png"},null,544),q,U,t(b,{type:"submit",color:"green"},{default:i(()=>[a("Potvrdi")]),_:1})]),_:1},8,["onSubmit"]),C]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})])}const N=d(v,[["render",S]]);export{N as default};
